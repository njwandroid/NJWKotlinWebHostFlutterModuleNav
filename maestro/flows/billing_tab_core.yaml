appId: com.neiljaywarner.myflutternavbarapplication
---
# Billing Tab Core Functionality Test
# This test verifies CORE functionality only (no deep links):
# 1. Billing tab directly shows Flutter bills list
# 2. Navigation from Flutter to Kotlin bill detail
# 3. Proper backstack behavior

# Launch the app
- launchApp

# Wait for the app to initialize
- waitForAnimationToEnd

# Take initial screenshot
- takeScreenshot: billing_core_initial

# Navigate to Billing tab - this should directly show Flutter bills list
- tapOn:
      text: "Billing"

# Wait for Flutter bills list to load
- waitForAnimationToEnd

# Verify Flutter billing view is displayed directly
- assertVisible:
      text: "Bills List"

# Take screenshot of Flutter bills list
- takeScreenshot: billing_flutter_list

# Verify bill items are displayed
- assertVisible:
      text: "Electric Bill - $120.50"

- assertVisible:
      text: "Water Bill - $45.25"

- assertVisible:
      text: "Internet Bill - $89.99"

# Tap on the first bill to navigate to Kotlin detail page
- tapOn:
      text: "Electric Bill - $120.50"

# Wait for navigation to complete
- waitForAnimationToEnd

# Verify we're now in the Kotlin bill detail page
- assertVisible:
      text: "Bill Detail"

- assertVisible:
      text: "Electric Bill"

- assertVisible:
      text: "Amount: $120.50"

- assertVisible:
      text: "Due Date: Jan 15, 2025"

# Take screenshot of bill detail page
- takeScreenshot: billing_detail_kotlin

# Test back navigation - press back button
- pressKey: Back

# Wait for navigation back to Flutter
- waitForAnimationToEnd

# Verify we're back in Flutter bills list
- assertVisible:
      text: "Bills List"

# Verify state is preserved - all bills should still be visible
- assertVisible:
      text: "Electric Bill - $120.50"

- assertVisible:
      text: "Water Bill - $45.25"

- assertVisible:
      text: "Internet Bill - $89.99"

# Take screenshot after back navigation to verify state preservation
- takeScreenshot: billing_state_preserved
